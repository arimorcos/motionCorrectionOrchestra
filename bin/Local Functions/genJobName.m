function jobName = genJobName(nChar,compare,ssh2_conn)
%genJobName.m function to generate string of nDigit to use as a job name
%
%INPUTS
%nChar - number of characters for job name
%ssh2_conn - ssh2 structure generated by ssh2_config
%
%OUTPUTS
%jobName - jobName of length nChar
%
%ASM 9/13

jobNameFlag = false;
while ~jobNameFlag %check if other jobs have this name
    
    %generate string
%     jobName = sprintf(['%0',num2str(nChar),'d'],(randi([10^(round(.6*nChar)) 10^nChar],1)));
    jobName = sprintf(['%0',num2str(nChar),'d'],randi(10^nChar));
    
    if compare
        [~,jobIDPresent] = ssh2_command(ssh2_conn,['bjobs -J ',jobName],0);
        if isempty(strfind([jobIDPresent{:}],'JOBID'))
            jobNameFlag = true;
        end
    else
        jobNameFlag = true;
    end
end